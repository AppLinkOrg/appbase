{"version":3,"sources":["../../src/pages/verify-code/verify-code.module.ts","../../src/pages/verify-code/verify-code.ts","../../src/providers/aliyun.api.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VerifyCodePage } from './verify-code';\n\n@NgModule({\n  declarations: [\n    VerifyCodePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VerifyCodePage),\n  ],\n})\nexport class VerifyCodePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verify-code/verify-code.module.ts","import { Component,ViewChild,ElementRef } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, ViewController, ToastController, AlertController } from 'ionic-angular';\nimport { AppBase } from '../../app/app.base';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { AliyunApi } from '../../providers/aliyun.api';\n\n/**\n * Generated class for the VerifyCodePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-verify-code',\n  templateUrl: 'verify-code.html',\n  providers:[AliyunApi]\n})\nexport class VerifyCodePage extends AppBase {\n  @ViewChild('ic1') inputc1:ElementRef ;\n  @ViewChild('ic2') inputc2:ElementRef ;\n  @ViewChild('ic3') inputc3:ElementRef ;\n  @ViewChild('ic4') inputc4:ElementRef ;\n\n  mobile=\"\";\n  type=\"\";\n  c1=\"\";\n  c2=\"\";\n  c3=\"\";\n  c4=\"\";\n\n  resendSecond=60;\n  reminder=0;\n\n  timer=null;\n\n  constructor(public navCtrl: NavController, public modalCtrl: ModalController,public alertCtrl:AlertController\n    , public statusBar: StatusBar, public viewCtrl: ViewController, public toastCtrl: ToastController\n    , public navParam: NavParams,public aliyunApi:AliyunApi) {\n\n    super(navCtrl, modalCtrl, viewCtrl, statusBar, toastCtrl,alertCtrl, navParam);\n\n  }\n\n  onMyLoad(){\n    this.mobile=this.navParam.get(\"mobile\");\n    this.type=this.navParam.get(\"type\");\n    //this.mobile=\"13751082562\";\n    //this.type=\"register\";\n\n    this.sendCode();\n    this.timer=setInterval(()=>{\n      if(this.reminder>0){\n        this.reminder--;\n      }\n    },1000);\n\n  }\n\n  sendCode(){\n    this.aliyunApi.sendverifycode({mobile:this.mobile,type:this.type},false)\n    .then((ret)=>{\n      if(ret.code==0){\n        this.reminder=this.resendSecond;\n        this.c1=\"\";\n        this.c2=\"\";\n        this.c3=\"\";\n        this.c4=\"\";\n        this.setFocus(1);\n        this.toast(this.Lang[\"verifycodesent\"]);\n      }else{\n        this.toast(this.Lang[\"verifycodesendfail\"]);\n      }\n    });\n  }\n\n  onMyShow(){\n\n    \n\n  }\n\n  verify(){\n    var verifycode=this.c1+this.c2+this.c3+this.c4;\n    this.aliyunApi.verifycode({mobile:this.mobile,verifycode,type:this.type})\n    .then((ret)=>{\n      this.c1=\"\";\n      this.c2=\"\";\n      this.c3=\"\";\n      this.c4=\"\";\n      if(ret.code==0){\n        this.return({verifyed:\"Y\"});\n      }else{\n        this.toast(this.Lang[\"verifycodeincorrect\"]);\n      }\n    });\n  }\n\n\n  setFocus(num){\n    // if(num==1){\n    //   this.inputc1.setFocus();\n    // }\n    // if(num==2){\n    //   this.inputc2.setFocus();\n    // }\n    // if(num==3){\n    //   this.inputc3.setFocus();\n    // }\n    // if(num==4){\n    //   this.inputc4.setFocus();\n    // }\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/verify-code/verify-code.ts","import { Injectable } from '@angular/core';\nimport { Loading } from 'ionic-angular';\nimport { Http } from '@angular/http';\nimport { RequestOptions } from '@angular/http';\nimport { ApiConfig } from '../app/api.config'\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/operator/map';\n@Injectable()\nexport class AliyunApi {\n\n    constructor(public http: Http) {\n\n    }\n\n\n    public sendverifycode(data, showLoadingModal: boolean = true) {\n        var url = ApiConfig.getApiUrl() + 'aliyun/sendverifycode';\n        var headers = ApiConfig.GetHeader(url, data);\n        let options = new RequestOptions({ headers: headers });\n        let body = ApiConfig.ParamUrlencoded(data);\n        let loading: Loading = null;\n\n        if (showLoadingModal) {\n            loading = ApiConfig.GetLoadingModal();\n        }\n\n        return this.http.post(url, body, options).toPromise()\n            .then((res) => {\n                if (ApiConfig.DataLoadedHandle('aliyun/sendverifycode', data, res)) {\n                    if (showLoadingModal) {\n                        ApiConfig.DimissLoadingModal();\n                    }\n                    if (res==null) {\n                        return null;\n                    }\n                    return res.json();\n                } else {\n                    return Promise.reject(res);\n                }\n            })\n            .catch(err => {\n                if (showLoadingModal) {\n                    ApiConfig.DimissLoadingModal();\n                }\n                return ApiConfig.ErrorHandle('aliyun/sendverifycode', data, err);\n            });\n    }\n\n\n    public verifycode(data, showLoadingModal: boolean = true) {\n        var url = ApiConfig.getApiUrl() + 'aliyun/verifycode';\n        var headers = ApiConfig.GetHeader(url, data);\n        let options = new RequestOptions({ headers: headers });\n        let body = ApiConfig.ParamUrlencoded(data);\n        let loading: Loading = null;\n\n        if (showLoadingModal) {\n            loading = ApiConfig.GetLoadingModal();\n        }\n\n        return this.http.post(url, body, options).toPromise()\n            .then((res) => {\n                if (ApiConfig.DataLoadedHandle('aliyun/verifycode', data, res)) {\n                    if (showLoadingModal) {\n                        ApiConfig.DimissLoadingModal();\n                    }\n                    if (res==null) {\n                        return null;\n                    }\n                    return res.json();\n                } else {\n                    return Promise.reject(res);\n                }\n            })\n            .catch(err => {\n                if (showLoadingModal) {\n                    ApiConfig.DimissLoadingModal();\n                }\n                return ApiConfig.ErrorHandle('aliyun/verifycode', data, err);\n            });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/aliyun.api.ts"],"sourceRoot":""}